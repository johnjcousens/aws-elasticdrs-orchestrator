
> frontend@1.0.0 test
> vitest run --testTimeout=10000 TargetAccountSettingsModal.test.tsx --run


 RUN  v3.2.4 /Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend

stderr | src/components/__tests__/TargetAccountSettingsModal.test.tsx > TargetAccountSettingsModal > Remove staging account flow > removes staging account when confirmed
Error removing staging account: Error: Failed to remove staging account: __vite_ssr_import_0__.default.delete is not a function
    at removeStagingAccount [90m(/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39msrc/services/staging-accounts-api.ts:135:11[90m)[39m
    at handleRemoveStagingAccount [90m(/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39msrc/components/TargetAccountSettingsModal.tsx:103:13[90m)[39m
    at onClick [90m(/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39msrc/components/TargetAccountSettingsModal.tsx:298:40[90m)[39m
    at fireCancelableEvent [90m(/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4msrc[24m/internal/events/index.ts:75:3[90m)[39m
    at handleClick [90m(/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4msrc[24m/button/internal.tsx:177:26[90m)[39m
    at executeDispatch [90m(/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:19116:9[90m)[39m
    at runWithFiberInDEV [90m(/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:874:13[90m)[39m
    at processDispatchQueue [90m(/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:19166:19[90m)[39m
    at [90m/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:19767:9
    at batchedUpdates$1 [90m(/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom-client.development.js:3255:40[90m)[39m
An update to TargetAccountSettingsModal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act
An update to TargetAccountSettingsModal inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

stderr | src/components/__tests__/TargetAccountSettingsModal.test.tsx > TargetAccountSettingsModal > Save changes functionality > displays error alert when save fails
Error updating account name: Error: Failed to save changes
    at [90m/Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39msrc/components/__tests__/TargetAccountSettingsModal.test.tsx:516:70
    at [90mfile:///Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:155:11
    at [90mfile:///Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:752:26
    at [90mfile:///Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:1897:20
    at new Promise (<anonymous>)
    at runWithTimeout [90m(file:///Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:1863:10[90m)[39m
    at runTest [90m(file:///Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:1574:12[90m)[39m
    at runSuite [90m(file:///Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:1729:8[90m)[39m
    at runSuite [90m(file:///Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:1729:8[90m)[39m
    at runSuite [90m(file:///Users/jocousen/Documents/CODE/GITHUB/aws-elasticdrs-orchestrator/frontend/[39mnode_modules/[4m@vitest/runner[24m/dist/chunk-hooks.js:1729:8[90m)[39m

 âœ“ src/components/__tests__/TargetAccountSettingsModal.test.tsx (33 tests) 2942ms
   âœ“ TargetAccountSettingsModal > Modal rendering > renders modal when visible  352ms

 Test Files  1 passed (1)
      Tests  33 passed (33)
   Start at  23:00:22
   Duration  11.54s (transform 3.02s, setup 142ms, collect 7.02s, tests 2.94s, environment 794ms, prepare 87ms)

