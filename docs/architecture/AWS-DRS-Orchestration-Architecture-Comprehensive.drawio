<mxfile host="Electron" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/29.0.3 Chrome/140.0.7339.249 Electron/38.7.0 Safari/537.36" version="29.0.3">
  <diagram name="AWS DRS Orchestration - Comprehensive Architecture" id="aws-drs-orchestration-comprehensive">
    <mxGraphModel dx="2200" dy="1400" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1800" pageHeight="1400" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="&lt;font style=&quot;font-size: 24px; color: #FF9900;&quot;&gt;AWS DRS Orchestration - Comprehensive Architecture&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 16px; color: #232F3E;&quot;&gt;Complete System Overview: 42+ API Endpoints • 5-Role RBAC System • Cross-Account Operations • Advanced Execution Control&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#232F3E;" parent="1" vertex="1">
          <mxGeometry x="400" y="20" width="1000" height="80" as="geometry" />
        </mxCell>
        
        <!-- AWS Cloud Container -->
        <mxCell id="aws-cloud" value="AWS Cloud" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=14;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud_alt;strokeColor=#232F3E;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#232F3E;dashed=0;strokeWidth=4;" parent="1" vertex="1">
          <mxGeometry x="100" y="120" width="1600" height="1200" as="geometry" />
        </mxCell>
        
        <!-- Primary Account -->
        <mxCell id="primary-account" value="Primary Account - DRS Orchestration Platform" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=13;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_account;strokeColor=#CD2264;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#CD2264;dashed=0;strokeWidth=3;" vertex="1" parent="aws-cloud">
          <mxGeometry x="50" y="80" width="1200" height="1000" as="geometry" />
        </mxCell>
        
        <!-- Cross-Account -->
        <mxCell id="cross-account" value="Cross-Account - DRS Resources" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=13;fontStyle=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_account;strokeColor=#CD2264;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;fontColor=#CD2264;dashed=0;strokeWidth=3;" vertex="1" parent="aws-cloud">
          <mxGeometry x="1300" y="80" width="250" height="1000" as="geometry" />
        </mxCell>
        
        <!-- External Users -->
        <mxCell id="dr-admin" value="DR Admin&lt;br&gt;(Full Access)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#232F3E;strokeColor=#232F3E;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="20" y="300" width="50" height="70" as="geometry" />
        </mxCell>
        <mxCell id="dr-operator" value="DR Operator&lt;br&gt;(Execute Only)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#666666;strokeColor=#666666;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="20" y="420" width="50" height="70" as="geometry" />
        </mxCell>
        <mxCell id="dr-viewer" value="DR Viewer&lt;br&gt;(Read Only)" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#999999;strokeColor=#999999;fontSize=11;" parent="1" vertex="1">
          <mxGeometry x="20" y="540" width="50" height="70" as="geometry" />
        </mxCell>
        
        <!-- Frontend Layer -->
        <mxCell id="cloudfront" value="CloudFront&lt;br&gt;Distribution" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudfront;" parent="primary-account" vertex="1">
          <mxGeometry x="100" y="150" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="s3-frontend" value="S3 Frontend&lt;br&gt;React + CloudScape&lt;br&gt;TypeScript 5.9" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.s3;" parent="primary-account" vertex="1">
          <mxGeometry x="100" y="300" width="70" height="70" as="geometry" />
        </mxCell>
        
        <!-- Authentication & Authorization Layer -->
        <mxCell id="cognito" value="Cognito&lt;br&gt;User Pool&lt;br&gt;JWT + RBAC" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cognito;" parent="primary-account" vertex="1">
          <mxGeometry x="280" y="150" width="70" height="70" as="geometry" />
        </mxCell>
        
        <!-- API Gateway Layer -->
        <mxCell id="api-gateway" value="API Gateway&lt;br&gt;REST API&lt;br&gt;42+ Endpoints" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;" parent="primary-account" vertex="1">
          <mxGeometry x="460" y="150" width="70" height="70" as="geometry" />
        </mxCell>
        
        <!-- Lambda Functions Layer -->
        <mxCell id="api-handler" value="api-handler&lt;br&gt;RBAC Middleware&lt;br&gt;Request Routing" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="primary-account" vertex="1">
          <mxGeometry x="640" y="150" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="orchestration-sf" value="orchestration-&lt;br&gt;stepfunctions&lt;br&gt;DRS Operations" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="primary-account" vertex="1">
          <mxGeometry x="980" y="150" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="exec-finder" value="execution-finder&lt;br&gt;Active Execution&lt;br&gt;Discovery" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="primary-account" vertex="1">
          <mxGeometry x="980" y="450" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="exec-poller" value="execution-poller&lt;br&gt;DRS Job Status&lt;br&gt;Monitoring" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.lambda;" parent="primary-account" vertex="1">
          <mxGeometry x="980" y="600" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="rbac-middleware" value="RBAC Middleware&lt;br&gt;Permission&lt;br&gt;Validation" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.iam;" parent="primary-account" vertex="1">
          <mxGeometry x="640" y="300" width="70" height="70" as="geometry" />
        </mxCell>
        
        <!-- Orchestration Layer -->
        <mxCell id="step-functions" value="Step Functions&lt;br&gt;State Machine&lt;br&gt;waitForTaskToken" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.step_functions;" parent="primary-account" vertex="1">
          <mxGeometry x="820" y="150" width="70" height="70" as="geometry" />
        </mxCell>
        
        <!-- Data Layer -->
        <mxCell id="dynamodb-pg" value="DynamoDB&lt;br&gt;protection-groups&lt;br&gt;+ GSI" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" parent="primary-account" vertex="1">
          <mxGeometry x="460" y="300" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="dynamodb-rp" value="DynamoDB&lt;br&gt;recovery-plans&lt;br&gt;+ GSI" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" parent="primary-account" vertex="1">
          <mxGeometry x="460" y="450" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="dynamodb-eh" value="DynamoDB&lt;br&gt;execution-history&lt;br&gt;+ GSI" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#C925D1;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.dynamodb;" parent="primary-account" vertex="1">
          <mxGeometry x="460" y="600" width="70" height="70" as="geometry" />
        </mxCell>
        
        <!-- Scheduling & Monitoring Layer -->
        <mxCell id="eventbridge" value="EventBridge&lt;br&gt;Scheduled Rules&lt;br&gt;1-min Trigger" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.eventbridge;" parent="primary-account" vertex="1">
          <mxGeometry x="820" y="450" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="cloudwatch" value="CloudWatch&lt;br&gt;Logs + Metrics&lt;br&gt;Monitoring" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#E7157B;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.cloudwatch;" parent="primary-account" vertex="1">
          <mxGeometry x="820" y="600" width="70" height="70" as="geometry" />
        </mxCell>
        
        <!-- Cross-Account Resources -->
        <mxCell id="cross-account-role" value="Cross-Account&lt;br&gt;IAM Role&lt;br&gt;STS AssumeRole" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#DD344C;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.iam;" parent="cross-account" vertex="1">
          <mxGeometry x="90" y="150" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="drs-cross" value="AWS DRS&lt;br&gt;Cross-Account&lt;br&gt;Source Servers" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#7AA116;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elastic_disaster_recovery;" parent="cross-account" vertex="1">
          <mxGeometry x="90" y="300" width="70" height="70" as="geometry" />
        </mxCell>
        <mxCell id="ec2-recovery-cross" value="Recovery EC2&lt;br&gt;Cross-Account&lt;br&gt;Instances" style="sketch=0;outlineConnect=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=#ffffff;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;fontStyle=0;aspect=fixed;shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;" parent="cross-account" vertex="1">
          <mxGeometry x="90" y="450" width="70" height="70" as="geometry" />
        </mxCell>
        
        <!-- Main Flow Connections (1-12) -->
        <mxCell id="step1" value="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#FF9900;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#FF9900;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="dr-admin" target="cloudfront" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step2" value="2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#7AA116;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#7AA116;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="cloudfront" target="s3-frontend" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step3" value="3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#DD344C;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#DD344C;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="cloudfront" target="cognito" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step4" value="4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#E7157B;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#E7157B;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="cognito" target="api-gateway" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step5" value="5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#ED7100;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#ED7100;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="api-gateway" target="api-handler" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step5a" value="5a" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#DD344C;strokeWidth=3;endArrow=blockThin;endFill=1;fontColor=#DD344C;fontSize=14;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="api-handler" target="rbac-middleware" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step6" value="6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#C925D1;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#C925D1;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="api-handler" target="dynamodb-pg" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step7" value="7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#E7157B;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#E7157B;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="api-handler" target="step-functions" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step8" value="8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#ED7100;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#ED7100;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="step-functions" target="orchestration-sf" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step9" value="9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#8C4FFF;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#8C4FFF;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="orchestration-sf" target="cross-account-role" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step10" value="10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#7AA116;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#7AA116;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="cross-account-role" target="drs-cross" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step11" value="11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#ED7100;strokeWidth=4;endArrow=blockThin;endFill=1;fontColor=#ED7100;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="drs-cross" target="ec2-recovery-cross" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Data Connections -->
        <mxCell id="data1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#C925D1;strokeWidth=2;endArrow=blockThin;endFill=1;" parent="1" source="api-handler" target="dynamodb-rp" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="data2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#C925D1;strokeWidth=2;endArrow=blockThin;endFill=1;" parent="1" source="api-handler" target="dynamodb-eh" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Polling Connections (Dashed) -->
        <mxCell id="poll1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;strokeWidth=3;dashed=1;endArrow=blockThin;endFill=1;" parent="1" source="eventbridge" target="exec-finder" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="poll2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;strokeWidth=3;dashed=1;endArrow=blockThin;endFill=1;" parent="1" source="exec-finder" target="exec-poller" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="poll3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;strokeWidth=3;dashed=1;endArrow=blockThin;endFill=1;" parent="1" source="exec-poller" target="drs-cross" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="poll4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#666666;strokeWidth=3;dashed=1;endArrow=blockThin;endFill=1;" parent="1" source="exec-poller" target="cloudwatch" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        
        <!-- Terminate Connection -->
        <mxCell id="terminate" value="12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeColor=#DD344C;strokeWidth=3;dashed=1;endArrow=blockThin;endFill=1;fontColor=#DD344C;fontSize=16;fontStyle=1;labelBackgroundColor=#FFFFFF;" parent="1" source="api-handler" target="ec2-recovery-cross" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="790" y="305" />
              <mxPoint x="790" y="120" />
              <mxPoint x="1565" y="120" />
              <mxPoint x="1565" y="705" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Comprehensive Information Panels -->
        <mxCell id="api-endpoints-detail" value="&lt;b&gt;Complete API Catalog (42+ Endpoints)&lt;/b&gt;&#xa;&#xa;&lt;b&gt;Protection Groups (8 endpoints):&lt;/b&gt;&#xa;• GET /protection-groups (list with filters)&#xa;• POST /protection-groups (create with validation)&#xa;• GET /protection-groups/{id} (details)&#xa;• PUT /protection-groups/{id} (update)&#xa;• DELETE /protection-groups/{id} (with conflict check)&#xa;• POST /protection-groups/{id}/servers (add servers)&#xa;• DELETE /protection-groups/{id}/servers (remove)&#xa;• GET /protection-groups/{id}/conflicts (validation)&#xa;&#xa;&lt;b&gt;Recovery Plans (10 endpoints):&lt;/b&gt;&#xa;• GET /recovery-plans (list with pagination)&#xa;• POST /recovery-plans (create with waves)&#xa;• GET /recovery-plans/{id} (full details)&#xa;• PUT /recovery-plans/{id} (update configuration)&#xa;• DELETE /recovery-plans/{id} (cascade delete)&#xa;• POST /recovery-plans/{id}/execute (start execution)&#xa;• POST /recovery-plans/{id}/validate (pre-flight)&#xa;• GET /recovery-plans/{id}/export (configuration)&#xa;• POST /recovery-plans/import (from config)&#xa;• POST /recovery-plans/{id}/clone (duplicate)&#xa;&#xa;&lt;b&gt;Executions (12 endpoints):&lt;/b&gt;&#xa;• GET /executions (history with filters)&#xa;• GET /executions/{id} (real-time status)&#xa;• POST /executions/{id}/pause (wave control)&#xa;• POST /executions/{id}/resume (continue)&#xa;• POST /executions/{id}/cancel (graceful stop)&#xa;• POST /executions/{id}/terminate (force stop)&#xa;• GET /executions/{id}/waves (wave status)&#xa;• GET /executions/{id}/logs (detailed logs)&#xa;• POST /executions/{id}/instances/terminate&#xa;• GET /executions/active (current running)&#xa;• GET /executions/{id}/timeline (events)&#xa;• POST /executions/{id}/retry (retry failed)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F4FD;strokeColor=#1F77B4;fontSize=10;align=left;verticalAlign=top;spacingTop=8;spacingLeft=8;" parent="1" vertex="1">
          <mxGeometry x="150" y="1400" width="400" height="480" as="geometry" />
        </mxCell>
        
        <mxCell id="rbac-system-detail" value="&lt;b&gt;RBAC System Architecture&lt;/b&gt;&#xa;&#xa;&lt;b&gt;5 Roles with Granular Permissions:&lt;/b&gt;&#xa;&#xa;&lt;b&gt;DRS_ADMIN:&lt;/b&gt;&#xa;• All permissions (system:admin)&#xa;• User management and role assignment&#xa;• System configuration access&#xa;&#xa;&lt;b&gt;DRS_OPERATOR:&lt;/b&gt;&#xa;• recovery_plans:execute&#xa;• executions:read/write/terminate&#xa;• protection_groups:read&#xa;• drs_servers:read&#xa;&#xa;&lt;b&gt;DRS_VIEWER:&lt;/b&gt;&#xa;• protection_groups:read&#xa;• recovery_plans:read&#xa;• executions:read&#xa;• drs_servers:read&#xa;&#xa;&lt;b&gt;DRS_AUDITOR:&lt;/b&gt;&#xa;• All read permissions&#xa;• Audit log access&#xa;• Compliance reporting&#xa;&#xa;&lt;b&gt;DRS_EMERGENCY:&lt;/b&gt;&#xa;• executions:terminate (emergency stop)&#xa;• recovery_plans:execute (emergency only)&#xa;• Limited time-bound access&#xa;&#xa;&lt;b&gt;JWT Token Structure:&lt;/b&gt;&#xa;• Header: Algorithm + Type&#xa;• Payload: User ID + Email + Roles + Permissions&#xa;• Signature: HMAC SHA256&#xa;• Expiry: 45 minutes (configurable)&#xa;• Refresh: Automatic via Cognito&#xa;&#xa;&lt;b&gt;Permission Validation:&lt;/b&gt;&#xa;• Middleware intercepts all API calls&#xa;• JWT signature verification&#xa;• Role-based permission checking&#xa;• Resource-level access control&#xa;• Audit logging for all actions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2E8;strokeColor=#D79B00;fontSize=10;align=left;verticalAlign=top;spacingTop=8;spacingLeft=8;" parent="1" vertex="1">
          <mxGeometry x="600" y="1400" width="400" height="480" as="geometry" />
        </mxCell>
        
        <mxCell id="execution-control-detail" value="&lt;b&gt;Advanced Execution Control&lt;/b&gt;&#xa;&#xa;&lt;b&gt;Wave-Based Execution:&lt;/b&gt;&#xa;• Sequential wave processing&#xa;• Dependency validation between waves&#xa;• Pause points before each wave&#xa;• Manual approval gates&#xa;• Automatic rollback on failure&#xa;&#xa;&lt;b&gt;Pause/Resume Mechanism:&lt;/b&gt;&#xa;• Step Functions waitForTaskToken&#xa;• Task token stored in DynamoDB&#xa;• Frontend polling for status updates&#xa;• Manual resume via API call&#xa;• Timeout handling (configurable)&#xa;&#xa;&lt;b&gt;Instance Termination:&lt;/b&gt;&#xa;• Direct EC2 API integration&#xa;• Cross-account termination support&#xa;• Bulk termination operations&#xa;• Termination confirmation required&#xa;• Audit trail for all terminations&#xa;&#xa;&lt;b&gt;Real-Time Monitoring:&lt;/b&gt;&#xa;• Frontend polls every 3 seconds&#xa;• EventBridge triggers every 1 minute&#xa;• DRS job status synchronization&#xa;• CloudWatch metrics integration&#xa;• Real-time status updates&#xa;&#xa;&lt;b&gt;Cross-Account Operations:&lt;/b&gt;&#xa;• STS AssumeRole integration&#xa;• Cross-account IAM role setup&#xa;• Secure credential management&#xa;• Multi-account DRS operations&#xa;• Centralized orchestration&#xa;&#xa;&lt;b&gt;Error Handling:&lt;/b&gt;&#xa;• Comprehensive error categorization&#xa;• Automatic retry mechanisms&#xa;• Graceful degradation&#xa;• Detailed error reporting&#xa;• Recovery recommendations" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F0F8E8;strokeColor=#82B366;fontSize=10;align=left;verticalAlign=top;spacingTop=8;spacingLeft=8;" parent="1" vertex="1">
          <mxGeometry x="1050" y="1400" width="400" height="480" as="geometry" />
        </mxCell>
        
        <mxCell id="technical-stack-detail" value="&lt;b&gt;Complete Technical Stack&lt;/b&gt;&#xa;&#xa;&lt;b&gt;Frontend (React 19.1.1):&lt;/b&gt;&#xa;• TypeScript 5.9.3&#xa;• CloudScape Design System 3.0.1148&#xa;• AWS Amplify 6.15.8 (Authentication)&#xa;• React Router 7.9.5 (Navigation)&#xa;• Vite 7.1.7 (Build Tool)&#xa;• 37 Components, 9 Pages&#xa;&#xa;&lt;b&gt;Backend (Python 3.12):&lt;/b&gt;&#xa;• 5 Lambda Functions&#xa;• boto3 AWS SDK&#xa;• crhelper 2.0.11 (CloudFormation)&#xa;• Comprehensive error handling&#xa;• Structured logging&#xa;&#xa;&lt;b&gt;Infrastructure (CloudFormation):&lt;/b&gt;&#xa;• 7 CloudFormation Templates&#xa;• 1 Master + 6 Nested Stacks&#xa;• Complete IaC approach&#xa;• Parameterized deployments&#xa;&#xa;&lt;b&gt;Data Layer (DynamoDB):&lt;/b&gt;&#xa;• 3 Tables with GSI&#xa;• protection-groups (conflict detection)&#xa;• recovery-plans (wave configuration)&#xa;• execution-history (audit trail)&#xa;&#xa;&lt;b&gt;Security:&lt;/b&gt;&#xa;• Cognito User Pool (JWT)&#xa;• IAM Role-Based Access&#xa;• Cross-Account Role Assumption&#xa;• API Gateway Authorizers&#xa;• CloudTrail Audit Logging&#xa;&#xa;&lt;b&gt;Monitoring:&lt;/b&gt;&#xa;• CloudWatch Logs + Metrics&#xa;• Real-time status dashboards&#xa;• Performance monitoring&#xa;• Error rate tracking&#xa;• Custom business metrics" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F5F0FF;strokeColor=#9673A6;fontSize=10;align=left;verticalAlign=top;spacingTop=8;spacingLeft=8;" parent="1" vertex="1">
          <mxGeometry x="1500" y="1400" width="400" height="480" as="geometry" />
        </mxCell>
        
        <!-- Layer Labels -->
        <mxCell id="layer-users" value="User Roles (RBAC)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#232F3E;" parent="1" vertex="1">
          <mxGeometry x="10" y="250" width="140" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer-frontend" value="Frontend Layer" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#7AA116;" parent="1" vertex="1">
          <mxGeometry x="200" y="250" width="140" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer-auth" value="Auth + RBAC Layer" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#DD344C;" parent="1" vertex="1">
          <mxGeometry x="380" y="250" width="160" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer-api" value="API Layer (42+ Endpoints)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#E7157B;" parent="1" vertex="1">
          <mxGeometry x="560" y="250" width="200" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer-orchestration" value="Orchestration Layer" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#E7157B;" parent="1" vertex="1">
          <mxGeometry x="820" y="250" width="160" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer-cross-account" value="Cross-Account Layer" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#8C4FFF;" parent="1" vertex="1">
          <mxGeometry x="1380" y="250" width="160" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer-data" value="Data Layer (3 Tables)" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#C925D1;" parent="1" vertex="1">
          <mxGeometry x="460" y="750" width="160" height="25" as="geometry" />
        </mxCell>
        <mxCell id="layer-monitoring" value="Monitoring & Scheduling" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;fontSize=14;fontStyle=1;fontColor=#E7157B;" parent="1" vertex="1">
          <mxGeometry x="820" y="750" width="180" height="25" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>