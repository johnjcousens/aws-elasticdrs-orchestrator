
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Code Quality Report - AWS DRS Orchestration</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 0; padding: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header { border-bottom: 2px solid #e1e5e9; padding-bottom: 20px; margin-bottom: 30px; }
        .header h1 { color: #232f3e; margin: 0; font-size: 28px; }
        .header .subtitle { color: #666; margin-top: 5px; }
        .metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .metric-card { background: #f8f9fa; padding: 20px; border-radius: 6px; border-left: 4px solid #007dbc; }
        .metric-value { font-size: 24px; font-weight: bold; color: #232f3e; }
        .metric-label { color: #666; font-size: 14px; margin-top: 5px; }
        .status-passed { color: #16a34a; }
        .status-failed { color: #dc2626; }
        .tool-section { margin-bottom: 30px; }
        .tool-header { background: #232f3e; color: white; padding: 15px; border-radius: 6px 6px 0 0; margin: 0; }
        .tool-content { border: 1px solid #e1e5e9; border-top: none; padding: 20px; border-radius: 0 0 6px 6px; }
        .violation { background: #fef2f2; border: 1px solid #fecaca; padding: 10px; margin: 5px 0; border-radius: 4px; }
        .violation-file { font-weight: bold; color: #991b1b; }
        .violation-message { color: #7f1d1d; margin-top: 5px; }
        .no-violations { color: #16a34a; font-weight: bold; }
        pre { background: #f8f9fa; padding: 15px; border-radius: 4px; overflow-x: auto; }
        .files-list { background: #f8f9fa; padding: 15px; border-radius: 4px; }
        .files-list ul { margin: 0; padding-left: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Code Quality Report</h1>
            <div class="subtitle">AWS DRS Orchestration Project - Generated on 2026-01-02 11:09:49</div>
        </div>
        
        <div class="metrics">
            <div class="metric-card">
                <div class="metric-value status-failed">FAILED</div>
                <div class="metric-label">Overall Status</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">33.33%</div>
                <div class="metric-label">Tool Compliance</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">54</div>
                <div class="metric-label">Files Analyzed</div>
            </div>
            <div class="metric-card">
                <div class="metric-value">391</div>
                <div class="metric-label">Flake8 Violations</div>
            </div>
        </div>
        
        
            <div class="tool-section">
                <h3 class="tool-header">Black Results</h3>
                <div class="tool-content"><p><strong>Status:</strong> <span class="status-failed">FAILED</span></p><h4>Output:</h4><pre>--- lambda/drs_tag_sync.py	2026-01-02 15:52:46.025405+00:00
+++ lambda/drs_tag_sync.py	2026-01-02 16:09:50.141276+00:00
@@ -73,11 +73,13 @@
             if result["total"] > 0:
                 regions_with_servers.append(region)
                 total_servers += result["total"]
                 total_synced += result["synced"]
                 total_failed += result["failed"]
-                logger.info(f"{region}: {result['synced']}/{result['total']} synced")
+                logger.info(
+                    f"{region}: {result['synced']}/{result['total']} synced"
+                )
         except Exception as e:
             # Log but continue - don't fail entire sync for one region
             logger.warning(f"{region}: skipped - {e}")
 
     summary = {
@@ -227,6 +229,8 @@
     try:
         drs_client.update_launch_configuration(
             sourceServerID=source_server_id, copyTags=True
         )
     except Exception as e:
-        logger.warning(f"Failed to enable copyTa</pre></div>
            </div>
            
            <div class="tool-section">
                <h3 class="tool-header">Flake8 Results</h3>
                <div class="tool-content"><p><strong>Status:</strong> <span class="status-failed">FAILED</span></p><p><strong>Total Violations:</strong> 391</p><div class="violations">
                    <div class="violation">
                        <div class="violation-file">lambda/deploy_lambda.py:83:43</div>
                        <div class="violation-message">E231 missing whitespace after ':'</div>
                    </div>
                    
                    <div class="violation">
                        <div class="violation-file">lambda/execution_registry.py:161:21</div>
                        <div class="violation-message">E231 missing whitespace after ':'</div>
                    </div>
                    
                    <div class="violation">
                        <div class="violation-file">lambda/index.py:139:1</div>
                        <div class="violation-message">C901 'determine_target_account_context' is too complex (20)</div>
                    </div>
                    
                    <div class="violation">
                        <div class="violation-file">lambda/index.py:249:71</div>
                        <div class="violation-message">E713 test for membership should be 'not in'</div>
                    </div>
                    
                    <div class="violation">
                        <div class="violation-file">lambda/index.py:308:25</div>
                        <div class="violation-message">E231 missing whitespace after ':'</div>
                    </div>
                    
                    <div class="violation">
                        <div class="violation-file">lambda/index.py:308:29</div>
                        <div class="violation-message">E231 missing whitespace after ':'</div>
                    </div>
                    
                    <div class="violation">
                        <div class="violation-file">lambda/index.py:308:33</div>
                        <div class="violation-message">E231 missing whitespace after ':'</div>
                    </div>
                    
                    <div class="violation">
                        <div class="violation-file">lambda/index.py:308:34</div>
                        <div class="violation-message">E231 missing whitespace after ':'</div>
                    </div>
                    
                    <div class="violation">
                        <div class="violation-file">lambda/index.py:308:47</div>
                        <div class="violation-message">E231 missing whitespace after ':'</div>
                    </div>
                    
                    <div class="violation">
                        <div class="violation-file">lambda/index.py:339:38</div>
                        <div class="violation-message">E231 missing whitespace after ':'</div>
                    </div>
                    <p><em>... and 381 more violations</em></p></div><h4>Output:</h4><pre>lambda/deploy_lambda.py:83:43: E231 missing whitespace after ':'
lambda/execution_registry.py:161:21: E231 missing whitespace after ':'
lambda/index.py:139:1: C901 'determine_target_account_context' is too complex (20)
lambda/index.py:249:71: E713 test for membership should be 'not in'
lambda/index.py:308:25: E231 missing whitespace after ':'
lambda/index.py:308:29: E231 missing whitespace after ':'
lambda/index.py:308:33: E231 missing whitespace after ':'
lambda/index.py:308:34: E231 missing whitespace after ':'
lambda/index.py:308:47: E231 missing whitespace after ':'
lambda/index.py:339:38: E231 missing whitespace after ':'
lambda/index.py:340:67: E713 test for membership should be 'not in'
lambda/index.py:347:67: E713 test for membership should be 'not in'
lambda/index.py:570:1: C901 'get_servers_in_active_executions' is too complex (13)
lambda/index.py:811:1: C901 'get_plans_with_conflicts' is too complex (22)
lambda/index.py:1247:1: C901 'get_drs_account_capacity' is too complex </pre></div>
            </div>
            
            <div class="tool-section">
                <h3 class="tool-header">Isort Results</h3>
                <div class="tool-content"><p><strong>Status:</strong> <span class="status-passed">PASSED</span></p><div class="no-violations">âœ“ No violations found</div></div>
            </div>
            
        
        <div class="tool-section">
            <h3 class="tool-header">Files Analyzed</h3>
            <div class="tool-content">
                <div class="files-list">
                    <ul>
                        <li>lambda/drs_tag_sync.py</li>
<li>lambda/deploy_lambda.py</li>
<li>lambda/index.py</li>
<li>lambda/execution_registry.py</li>
<li>lambda/build_and_deploy.py</li>
<li>lambda/tag_discovery.py</li>
<li>lambda/rbac_middleware.py</li>
<li>lambda/orchestration_stepfunctions.py</li>
<li>scripts/generate_quality_report.py</li>
<li>scripts/analyze_violations.py</li>
<li>scripts/monitor_lambda_drill.py</li>
<li>scripts/manage-user-roles.py</li>
<li>scripts/add-current-account.py</li>
<li>scripts/test_drs_drill_trace.py</li>
<li>tests/python/monitor_execution.py</li>
<li>tests/python/conftest.py</li>
<li>tests/python/create_test_plan.py</li>
<li>tests/python/create_test_ui.py</li>
<li>tests/python/test_drs_validation.py</li>
<li>tests/python/create_real_test_data.py</li>
<li>tests/python/monitor_drs_drill.py</li>
<li>tests/python/validate_setup.py</li>
<li>tests/python/cleanup_all_data.py</li>
<li>tests/python/standalone_drs_drill.py</li>
<li>tests/python/automated_e2e_test.py</li>
<li>tests/python/test_with_lambda_invoke.py</li>
<li>tests/python/check_pg_response.py</li>
<li>tests/security/validate_framework.py</li>
<li>tests/security/rbac_security_tests.py</li>
<li>tests/security/demo_security_test.py</li>
<li>tests/security/run_security_tests.py</li>
<li>tests/security/run_existing_user_tests.py</li>
<li>tests/python/mocks/__init__.py</li>
<li>tests/python/mocks/mock_drs_client.py</li>
<li>tests/python/unit/test_data_generator.py</li>
<li>tests/python/unit/__init__.py</li>
<li>tests/python/unit/test_drs_service_limits.py</li>
<li>tests/python/unit/test_infrastructure_smoke.py</li>
<li>tests/python/unit/test_wave_transformation.py</li>
<li>tests/python/unit/test_fixtures.py</li>
<li>tests/python/unit/test_mock_drs_client.py</li>
<li>tests/python/unit/test_recovery_plan_delete.py</li>
<li>tests/python/integration/__init__.py</li>
<li>tests/python/utils/test_data_generator.py</li>
<li>tests/python/utils/__init__.py</li>
<li>tests/python/fixtures/__init__.py</li>
<li>tests/python/fixtures/recovery_plan_fixtures.py</li>
<li>tests/python/e2e/test_recovery_plan_bugs.py</li>
<li>tests/python/e2e/test_protection_group_crud.py</li>
<li>tests/python/e2e/test_recovery_plan_e2e.py</li>
<li>tests/python/e2e/__init__.py</li>
<li>tests/python/e2e/get_auth_token.py</li>
<li>tests/python/e2e/test_recovery_plan_api_crud.py</li>
<li>tests/python/e2e/test_protection_groups_fix.py</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
        